{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\magnate-invest_admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\magnate-invest_admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"../../instance\";\nimport * as url from \"../../constants/urlConstants\";\nimport ToggleNotification from \"../../component/ReusableComponents/Toggle Notifications/ToggleNotification\";\nexport var loggingUser = function loggingUser(data) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch) {\n      var _res$data, _res$data$data, res;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.post(url.loggingUser, data);\n\n            case 3:\n              res = _context.sent;\n              localStorage.setItem(\"keshavi-token\", (_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$data = _res$data.data) === null || _res$data$data === void 0 ? void 0 : _res$data$data.token);\n              return _context.abrupt(\"return\", res);\n\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              ToggleNotification(\"Error\", _context.t0.response.data.message); // console.log(err.response.data.message);\n\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 8]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var loggingOut = function loggingOut() {\n  return /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch) {\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return localStorage.removeItem(\"quota-games-token\");\n\n            case 3:\n              return _context2.abrupt(\"return\", true);\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n              ToggleNotification(\"Error\", \"Cannot be logged out. Please try again later.\");\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 6]]);\n    }));\n\n    return function (_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n};","map":{"version":3,"sources":["C:/magnate-invest_admin/src/redux/actions/loginAction.js"],"names":["axios","url","ToggleNotification","loggingUser","data","dispatch","post","res","localStorage","setItem","token","response","message","loggingOut","removeItem"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,gBAAlB;AACA,OAAO,KAAKC,GAAZ,MAAqB,8BAArB;AACA,OAAOC,kBAAP,MAA+B,4EAA/B;AAEA,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,IAAD,EAAU;AACnC;AAAA,wEAAO,iBAAOC,QAAP;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEeL,KAAK,CAACM,IAAN,CAAWL,GAAG,CAACE,WAAf,EAA4BC,IAA5B,CAFf;;AAAA;AAEGG,cAAAA,GAFH;AAGHC,cAAAA,YAAY,CAACC,OAAb,CAAqB,eAArB,eAAsCF,GAAG,CAACH,IAA1C,gEAAsC,UAAUA,IAAhD,mDAAsC,eAAgBM,KAAtD;AAHG,+CAIIH,GAJJ;;AAAA;AAAA;AAAA;AAMHL,cAAAA,kBAAkB,CAAC,OAAD,EAAU,YAAIS,QAAJ,CAAaP,IAAb,CAAkBQ,OAA5B,CAAlB,CANG,CAOH;;AAPG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;;AAAA;AAAA;AAAA;AAAA;AAUD,CAXM;AAaP,OAAO,IAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AAC9B;AAAA,yEAAO,kBAAOR,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEGG,YAAY,CAACM,UAAb,CAAwB,mBAAxB,CAFH;;AAAA;AAAA,gDAGI,IAHJ;;AAAA;AAAA;AAAA;AAKHZ,cAAAA,kBAAkB,CAAC,OAAD,EAAU,+CAAV,CAAlB;;AALG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAP;;AAAA;AAAA;AAAA;AAAA;AAQD,CATM","sourcesContent":["import axios from \"../../instance\";\nimport * as url from \"../../constants/urlConstants\";\nimport ToggleNotification from \"../../component/ReusableComponents/Toggle Notifications/ToggleNotification\";\n\nexport const loggingUser = (data) => {\n  return async (dispatch) => {\n    try {\n      const res = await axios.post(url.loggingUser, data);\n      localStorage.setItem(\"keshavi-token\", res.data?.data?.token);\n      return res;\n    } catch (err) {\n      ToggleNotification(\"Error\", err.response.data.message);\n      // console.log(err.response.data.message);\n    }\n  };\n};\n\nexport const loggingOut = () => {\n  return async (dispatch) => {\n    try {\n      await localStorage.removeItem(\"quota-games-token\");\n      return true;\n    } catch (err) {\n      ToggleNotification(\"Error\", \"Cannot be logged out. Please try again later.\");\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}