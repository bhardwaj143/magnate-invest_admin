{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\magnate-invest_admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\magnate-invest_admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\magnate-invest_admin\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\magnate-invest_admin\\\\src\\\\component\\\\User\\\\addUser\\\\addUser.js\";\n\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Card, CardHeader, CardBody, CardFooter, Button, Input, Form, FormGroup, Spinner } from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport { Breadcrumb } from \"react-bootstrap\";\nimport { addingUser } from \"../../../redux/actions/userAction\";\nimport * as functions from \"../../../functions/function\";\nimport ToggleNotification from \"../../ReusableComponents/Toggle Notifications/ToggleNotification\";\n\nvar AddUser = function AddUser(props) {\n  var history = useHistory();\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      first_name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      last_name = _useState4[0],\n      setLastName = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      email = _useState6[0],\n      setEmail = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      password = _useState8[0],\n      setPassword = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      password_confirmation = _useState10[0],\n      setConfirmPassword = _useState10[1];\n\n  var _useState11 = useState(\"\"),\n      _useState12 = _slicedToArray(_useState11, 2),\n      nameError = _useState12[0],\n      setNameError = _useState12[1];\n\n  var _useState13 = useState(\"\"),\n      _useState14 = _slicedToArray(_useState13, 2),\n      emailError = _useState14[0],\n      setEmailError = _useState14[1];\n\n  var _useState15 = useState(\"\"),\n      _useState16 = _slicedToArray(_useState15, 2),\n      lastnameError = _useState16[0],\n      setLastNameError = _useState16[1];\n\n  var _useState17 = useState(\"\"),\n      _useState18 = _slicedToArray(_useState17, 2),\n      passwordError = _useState18[0],\n      setPasswordError = _useState18[1];\n\n  var _useState19 = useState(\"\"),\n      _useState20 = _slicedToArray(_useState19, 2),\n      confirmpasswordError = _useState20[0],\n      setConfirmPasswordError = _useState20[1];\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      loader = _useState22[0],\n      setLoader = _useState22[1];\n\n  var validation = function validation() {\n    setNameError(\"\");\n    setLastNameError(\"\");\n    setPasswordError(\"\");\n    setEmailError(\"\");\n    setConfirmPasswordError(\"\");\n    var error = false;\n    var firstNameValidation = functions.textValidation(first_name, \"first name\");\n\n    if (firstNameValidation) {\n      error = true;\n      setNameError(firstNameValidation);\n    }\n\n    var lastNameValidation = functions.textValidation(last_name, \"last name\");\n\n    if (lastNameValidation) {\n      error = true;\n      setLastNameError(lastNameValidation);\n    }\n\n    var emailValidation = functions.emailValidation(email);\n\n    if (emailValidation) {\n      error = true;\n      setEmailError(emailValidation);\n    }\n\n    if (!password) {\n      error = true;\n      setPasswordError(\"Please choose your password\");\n    } else if (password.length < 8) {\n      error = true;\n      setPasswordError(\"Password should have atleast 8 characters\");\n    } else if (!password_confirmation) {\n      error = true;\n      setConfirmPasswordError(\"Please confirm your password\");\n    } else if (password_confirmation !== password) {\n      error = true;\n      setConfirmPasswordError(\"The passwords does not match\");\n    }\n\n    return error;\n  };\n\n  var onSubmitHandler = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      var validate, obj, res;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              validate = validation();\n\n              if (validate) {\n                _context.next = 11;\n                break;\n              }\n\n              setLoader(true);\n              obj = {\n                first_name: first_name,\n                last_name: last_name,\n                password: password,\n                password_confirmation: password_confirmation,\n                email: email\n              };\n              _context.next = 7;\n              return props.addUser(obj);\n\n            case 7:\n              res = _context.sent;\n              setLoader(false);\n              console.log(res);\n\n              if (res && res === 200) {\n                ToggleNotification(\"AddUserSuccess\");\n                history.push(\"/users/1\");\n              } else if (res && res.error === true) {\n                ToggleNotification(\"AddUserfail\");\n                setEmailError(res.message);\n              } else {\n                ToggleNotification(\"AddUserfail\");\n              }\n\n            case 11:\n              e.preventDefault();\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onSubmitHandler(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Breadcrumb, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  }, \"Add User\")), /*#__PURE__*/React.createElement(Form, {\n    onSubmit: function onSubmit(e) {\n      return onSubmitHandler(e);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"First Name\",\n    value: first_name,\n    disabled: loader,\n    onChange: function onChange(e) {\n      setNameError(\"\");\n      setName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 15\n    }\n  }), nameError && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  }, nameError)), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Last Name\",\n    value: last_name,\n    disabled: loader,\n    onChange: function onChange(e) {\n      setLastNameError(\"\");\n      setLastName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }), lastnameError && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 33\n    }\n  }, lastnameError)), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Email\",\n    value: email,\n    disabled: loader,\n    onChange: function onChange(e) {\n      setEmailError(\"\");\n      setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }), emailError && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 30\n    }\n  }, emailError)), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    className: \"col-12\",\n    disabled: loader,\n    onChange: function onChange(e) {\n      setPasswordError(\"\");\n      setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }), passwordError && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 33\n    }\n  }, passwordError)), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    placeholder: \"Confirm Password\",\n    value: password_confirmation,\n    className: \"col-12\",\n    disabled: loader,\n    onChange: function onChange(e) {\n      setConfirmPasswordError(\"\");\n      setConfirmPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 15\n    }\n  }), confirmpasswordError && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: \"red\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }\n  }, confirmpasswordError))), /*#__PURE__*/React.createElement(CardFooter, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"primary\",\n    disabled: loader,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, loader ? /*#__PURE__*/React.createElement(Spinner, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 25\n    }\n  }) : \"Add\"), !loader && /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    color: \"danger\",\n    onClick: function onClick(e) {\n      return history.go(-1);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 15\n    }\n  }, \"Back\")))));\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    addUser: function addUser(data) {\n      return dispatch(addingUser(data));\n    }\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(AddUser);","map":{"version":3,"sources":["C:/magnate-invest_admin/src/component/User/addUser/addUser.js"],"names":["React","useState","useHistory","Card","CardHeader","CardBody","CardFooter","Button","Input","Form","FormGroup","Spinner","connect","Breadcrumb","addingUser","functions","ToggleNotification","AddUser","props","history","first_name","setName","last_name","setLastName","email","setEmail","password","setPassword","password_confirmation","setConfirmPassword","nameError","setNameError","emailError","setEmailError","lastnameError","setLastNameError","passwordError","setPasswordError","confirmpasswordError","setConfirmPasswordError","loader","setLoader","validation","error","firstNameValidation","textValidation","lastNameValidation","emailValidation","length","onSubmitHandler","e","preventDefault","validate","obj","addUser","res","console","log","push","message","target","value","color","go","mapDispatchToProps","dispatch","data"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SACEC,IADF,EAEEC,UAFF,EAGEC,QAHF,EAIEC,UAJF,EAKEC,MALF,EAMEC,KANF,EAOEC,IAPF,EAQEC,SARF,EASEC,OATF,QAUO,YAVP;AAWA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,iBAA3B;AACA,SAASC,UAAT,QAA2B,mCAA3B;AACA,OAAO,KAAKC,SAAZ,MAA2B,6BAA3B;AACA,OAAOC,kBAAP,MAA+B,kEAA/B;;AAEA,IAAMC,OAAO,GAAG,SAAVA,OAAU,CAACC,KAAD,EAAW;AACzB,MAAMC,OAAO,GAAGjB,UAAU,EAA1B;;AACA,kBAA8BD,QAAQ,CAAC,EAAD,CAAtC;AAAA;AAAA,MAAOmB,UAAP;AAAA,MAAmBC,OAAnB;;AACA,mBAAiCpB,QAAQ,CAAC,EAAD,CAAzC;AAAA;AAAA,MAAOqB,SAAP;AAAA,MAAkBC,WAAlB;;AACA,mBAA0BtB,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOuB,KAAP;AAAA,MAAcC,QAAd;;AACA,mBAAgCxB,QAAQ,CAAC,EAAD,CAAxC;AAAA;AAAA,MAAOyB,QAAP;AAAA,MAAiBC,WAAjB;;AACA,mBAAoD1B,QAAQ,CAAC,EAAD,CAA5D;AAAA;AAAA,MAAO2B,qBAAP;AAAA,MAA8BC,kBAA9B;;AACA,oBAAkC5B,QAAQ,CAAC,EAAD,CAA1C;AAAA;AAAA,MAAO6B,SAAP;AAAA,MAAkBC,YAAlB;;AACA,oBAAoC9B,QAAQ,CAAC,EAAD,CAA5C;AAAA;AAAA,MAAO+B,UAAP;AAAA,MAAmBC,aAAnB;;AACA,oBAA0ChC,QAAQ,CAAC,EAAD,CAAlD;AAAA;AAAA,MAAOiC,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,oBAA0ClC,QAAQ,CAAC,EAAD,CAAlD;AAAA;AAAA,MAAOmC,aAAP;AAAA,MAAsBC,gBAAtB;;AACA,oBAAwDpC,QAAQ,CAAC,EAAD,CAAhE;AAAA;AAAA,MAAOqC,oBAAP;AAAA,MAA6BC,uBAA7B;;AACA,oBAA4BtC,QAAQ,CAAC,KAAD,CAApC;AAAA;AAAA,MAAOuC,MAAP;AAAA,MAAeC,SAAf;;AAEA,MAAMC,UAAU,GAAG,SAAbA,UAAa,GAAM;AACvBX,IAAAA,YAAY,CAAC,EAAD,CAAZ;AACAI,IAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACAE,IAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACAJ,IAAAA,aAAa,CAAC,EAAD,CAAb;AACAM,IAAAA,uBAAuB,CAAC,EAAD,CAAvB;AACA,QAAII,KAAK,GAAG,KAAZ;AACA,QAAMC,mBAAmB,GAAG7B,SAAS,CAAC8B,cAAV,CAC1BzB,UAD0B,EAE1B,YAF0B,CAA5B;;AAIA,QAAIwB,mBAAJ,EAAyB;AACvBD,MAAAA,KAAK,GAAG,IAAR;AACAZ,MAAAA,YAAY,CAACa,mBAAD,CAAZ;AACD;;AACD,QAAME,kBAAkB,GAAG/B,SAAS,CAAC8B,cAAV,CAAyBvB,SAAzB,EAAoC,WAApC,CAA3B;;AACA,QAAIwB,kBAAJ,EAAwB;AACtBH,MAAAA,KAAK,GAAG,IAAR;AACAR,MAAAA,gBAAgB,CAACW,kBAAD,CAAhB;AACD;;AACD,QAAMC,eAAe,GAAGhC,SAAS,CAACgC,eAAV,CAA0BvB,KAA1B,CAAxB;;AACA,QAAIuB,eAAJ,EAAqB;AACnBJ,MAAAA,KAAK,GAAG,IAAR;AACAV,MAAAA,aAAa,CAACc,eAAD,CAAb;AACD;;AACD,QAAI,CAACrB,QAAL,EAAe;AACbiB,MAAAA,KAAK,GAAG,IAAR;AACAN,MAAAA,gBAAgB,CAAC,6BAAD,CAAhB;AACD,KAHD,MAGO,IAAIX,QAAQ,CAACsB,MAAT,GAAkB,CAAtB,EAAyB;AAC9BL,MAAAA,KAAK,GAAG,IAAR;AACAN,MAAAA,gBAAgB,CAAC,2CAAD,CAAhB;AACD,KAHM,MAGA,IAAI,CAACT,qBAAL,EAA4B;AACjCe,MAAAA,KAAK,GAAG,IAAR;AACAJ,MAAAA,uBAAuB,CAAC,8BAAD,CAAvB;AACD,KAHM,MAGA,IAAIX,qBAAqB,KAAKF,QAA9B,EAAwC;AAC7CiB,MAAAA,KAAK,GAAG,IAAR;AACAJ,MAAAA,uBAAuB,CAAC,8BAAD,CAAvB;AACD;;AACD,WAAOI,KAAP;AACD,GAvCD;;AAyCA,MAAMM,eAAe;AAAA,wEAAG,iBAAOC,CAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACtBA,cAAAA,CAAC,CAACC,cAAF;AACMC,cAAAA,QAFgB,GAELV,UAAU,EAFL;;AAAA,kBAGjBU,QAHiB;AAAA;AAAA;AAAA;;AAIpBX,cAAAA,SAAS,CAAC,IAAD,CAAT;AACMY,cAAAA,GALc,GAKR;AACVjC,gBAAAA,UAAU,EAAEA,UADF;AAEVE,gBAAAA,SAAS,EAAEA,SAFD;AAGVI,gBAAAA,QAAQ,EAAEA,QAHA;AAIVE,gBAAAA,qBAAqB,EAAEA,qBAJb;AAKVJ,gBAAAA,KAAK,EAAEA;AALG,eALQ;AAAA;AAAA,qBAYFN,KAAK,CAACoC,OAAN,CAAcD,GAAd,CAZE;;AAAA;AAYdE,cAAAA,GAZc;AAapBd,cAAAA,SAAS,CAAC,KAAD,CAAT;AACAe,cAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,kBAAIA,GAAG,IAAIA,GAAG,KAAK,GAAnB,EAAwB;AACtBvC,gBAAAA,kBAAkB,CAAC,gBAAD,CAAlB;AACAG,gBAAAA,OAAO,CAACuC,IAAR,CAAa,UAAb;AACD,eAHD,MAGO,IAAIH,GAAG,IAAIA,GAAG,CAACZ,KAAJ,KAAc,IAAzB,EAA+B;AACpC3B,gBAAAA,kBAAkB,CAAC,aAAD,CAAlB;AACAiB,gBAAAA,aAAa,CAACsB,GAAG,CAACI,OAAL,CAAb;AACD,eAHM,MAGA;AACL3C,gBAAAA,kBAAkB,CAAC,aAAD,CAAlB;AACD;;AAvBmB;AAyBtBkC,cAAAA,CAAC,CAACC,cAAF;;AAzBsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAfF,eAAe;AAAA;AAAA;AAAA,KAArB;;AA4BA,sBACE,uDACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CADF,eAIE,oBAAC,IAAD;AAAM,IAAA,QAAQ,EAAE,kBAACC,CAAD;AAAA,aAAOD,eAAe,CAACC,CAAD,CAAtB;AAAA,KAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,WAAW,EAAC,YAFd;AAGE,IAAA,KAAK,EAAE9B,UAHT;AAIE,IAAA,QAAQ,EAAEoB,MAJZ;AAKE,IAAA,QAAQ,EAAE,kBAACU,CAAD,EAAO;AACfnB,MAAAA,YAAY,CAAC,EAAD,CAAZ;AACAV,MAAAA,OAAO,CAAC6B,CAAC,CAACU,MAAF,CAASC,KAAV,CAAP;AACD,KARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAWG/B,SAAS,iBAAI;AAAG,IAAA,KAAK,EAAE;AAAEgC,MAAAA,KAAK,EAAE;AAAT,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BhC,SAA7B,CAXhB,CADF,eAcE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,WAAW,EAAC,WAFd;AAGE,IAAA,KAAK,EAAER,SAHT;AAIE,IAAA,QAAQ,EAAEkB,MAJZ;AAKE,IAAA,QAAQ,EAAE,kBAACU,CAAD,EAAO;AACff,MAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACAZ,MAAAA,WAAW,CAAC2B,CAAC,CAACU,MAAF,CAASC,KAAV,CAAX;AACD,KARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAWG3B,aAAa,iBAAI;AAAG,IAAA,KAAK,EAAE;AAAE4B,MAAAA,KAAK,EAAE;AAAT,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6B5B,aAA7B,CAXpB,CAdF,eA2BE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,WAAW,EAAC,OAFd;AAGE,IAAA,KAAK,EAAEV,KAHT;AAIE,IAAA,QAAQ,EAAEgB,MAJZ;AAKE,IAAA,QAAQ,EAAE,kBAACU,CAAD,EAAO;AACfjB,MAAAA,aAAa,CAAC,EAAD,CAAb;AACAR,MAAAA,QAAQ,CAACyB,CAAC,CAACU,MAAF,CAASC,KAAV,CAAR;AACD,KARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAWG7B,UAAU,iBAAI;AAAG,IAAA,KAAK,EAAE;AAAE8B,MAAAA,KAAK,EAAE;AAAT,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6B9B,UAA7B,CAXjB,CA3BF,eAwCE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,WAAW,EAAC,UAFd;AAGE,IAAA,KAAK,EAAEN,QAHT;AAIE,IAAA,SAAS,EAAC,QAJZ;AAKE,IAAA,QAAQ,EAAEc,MALZ;AAME,IAAA,QAAQ,EAAE,kBAACU,CAAD,EAAO;AACfb,MAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACAV,MAAAA,WAAW,CAACuB,CAAC,CAACU,MAAF,CAASC,KAAV,CAAX;AACD,KATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAYGzB,aAAa,iBAAI;AAAG,IAAA,KAAK,EAAE;AAAE0B,MAAAA,KAAK,EAAE;AAAT,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6B1B,aAA7B,CAZpB,CAxCF,eAsDE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,WAAW,EAAC,kBAFd;AAGE,IAAA,KAAK,EAAER,qBAHT;AAIE,IAAA,SAAS,EAAC,QAJZ;AAKE,IAAA,QAAQ,EAAEY,MALZ;AAME,IAAA,QAAQ,EAAE,kBAACU,CAAD,EAAO;AACfX,MAAAA,uBAAuB,CAAC,EAAD,CAAvB;AACAV,MAAAA,kBAAkB,CAACqB,CAAC,CAACU,MAAF,CAASC,KAAV,CAAlB;AACD,KATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAYGvB,oBAAoB,iBACnB;AAAG,IAAA,KAAK,EAAE;AAAEwB,MAAAA,KAAK,EAAE;AAAT,KAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BxB,oBAA7B,CAbJ,CAtDF,CADF,eAwEE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,KAAK,EAAC,SAA5B;AAAsC,IAAA,QAAQ,EAAEE,MAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGA,MAAM,gBAAG,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAAH,GAAiB,KAD1B,CADF,EAIG,CAACA,MAAD,iBACC,oBAAC,MAAD;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,KAAK,EAAC,QAFR;AAGE,IAAA,OAAO,EAAE,iBAACU,CAAD;AAAA,aAAO/B,OAAO,CAAC4C,EAAR,CAAW,CAAC,CAAZ,CAAP;AAAA,KAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YALJ,CAxEF,CAJF,CAFF,CADF;AAiGD,CApLD;;AAsLA,IAAMC,kBAAkB,GAAG,SAArBA,kBAAqB,CAACC,QAAD,EAAc;AACvC,SAAO;AACLX,IAAAA,OAAO,EAAE,iBAACY,IAAD;AAAA,aAAUD,QAAQ,CAACnD,UAAU,CAACoD,IAAD,CAAX,CAAlB;AAAA;AADJ,GAAP;AAGD,CAJD;;AAMA,eAAetD,OAAO,CAAC,IAAD,EAAOoD,kBAAP,CAAP,CAAkC/C,OAAlC,CAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  CardFooter,\n  Button,\n  Input,\n  Form,\n  FormGroup,\n  Spinner,\n} from \"reactstrap\";\nimport { connect } from \"react-redux\";\nimport { Breadcrumb } from \"react-bootstrap\";\nimport { addingUser } from \"../../../redux/actions/userAction\";\nimport * as functions from \"../../../functions/function\";\nimport ToggleNotification from \"../../ReusableComponents/Toggle Notifications/ToggleNotification\";\n\nconst AddUser = (props) => {\n  const history = useHistory();\n  const [first_name, setName] = useState(\"\");\n  const [last_name, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [password_confirmation, setConfirmPassword] = useState(\"\");\n  const [nameError, setNameError] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const [lastnameError, setLastNameError] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n  const [confirmpasswordError, setConfirmPasswordError] = useState(\"\");\n  const [loader, setLoader] = useState(false);\n\n  const validation = () => {\n    setNameError(\"\");\n    setLastNameError(\"\");\n    setPasswordError(\"\");\n    setEmailError(\"\");\n    setConfirmPasswordError(\"\");\n    let error = false;\n    const firstNameValidation = functions.textValidation(\n      first_name,\n      \"first name\"\n    );\n    if (firstNameValidation) {\n      error = true;\n      setNameError(firstNameValidation);\n    }\n    const lastNameValidation = functions.textValidation(last_name, \"last name\");\n    if (lastNameValidation) {\n      error = true;\n      setLastNameError(lastNameValidation);\n    }\n    const emailValidation = functions.emailValidation(email);\n    if (emailValidation) {\n      error = true;\n      setEmailError(emailValidation);\n    }\n    if (!password) {\n      error = true;\n      setPasswordError(\"Please choose your password\");\n    } else if (password.length < 8) {\n      error = true;\n      setPasswordError(\"Password should have atleast 8 characters\");\n    } else if (!password_confirmation) {\n      error = true;\n      setConfirmPasswordError(\"Please confirm your password\");\n    } else if (password_confirmation !== password) {\n      error = true;\n      setConfirmPasswordError(\"The passwords does not match\");\n    }\n    return error;\n  };\n\n  const onSubmitHandler = async (e) => {\n    e.preventDefault();\n    const validate = validation();\n    if (!validate) {\n      setLoader(true);\n      const obj = {\n        first_name: first_name,\n        last_name: last_name,\n        password: password,\n        password_confirmation: password_confirmation,\n        email: email,\n      };\n      const res = await props.addUser(obj);\n      setLoader(false);\n      console.log(res);\n      if (res && res === 200) {\n        ToggleNotification(\"AddUserSuccess\");\n        history.push(\"/users/1\");\n      } else if (res && res.error === true) {\n        ToggleNotification(\"AddUserfail\");\n        setEmailError(res.message);\n      } else {\n        ToggleNotification(\"AddUserfail\");\n      }\n    }\n    e.preventDefault();\n  };\n\n  return (\n    <>\n      <Breadcrumb />\n      <Card>\n        <CardHeader>\n          <h3>Add User</h3>\n        </CardHeader>\n        <Form onSubmit={(e) => onSubmitHandler(e)}>\n          <CardBody>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                placeholder=\"First Name\"\n                value={first_name}\n                disabled={loader}\n                onChange={(e) => {\n                  setNameError(\"\");\n                  setName(e.target.value);\n                }}\n              />\n              {nameError && <p style={{ color: \"red\" }}>{nameError}</p>}\n            </FormGroup>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                placeholder=\"Last Name\"\n                value={last_name}\n                disabled={loader}\n                onChange={(e) => {\n                  setLastNameError(\"\");\n                  setLastName(e.target.value);\n                }}\n              />\n              {lastnameError && <p style={{ color: \"red\" }}>{lastnameError}</p>}\n            </FormGroup>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                placeholder=\"Email\"\n                value={email}\n                disabled={loader}\n                onChange={(e) => {\n                  setEmailError(\"\");\n                  setEmail(e.target.value);\n                }}\n              />\n              {emailError && <p style={{ color: \"red\" }}>{emailError}</p>}\n            </FormGroup>\n            <FormGroup>\n              <Input\n                type=\"password\"\n                placeholder=\"Password\"\n                value={password}\n                className=\"col-12\"\n                disabled={loader}\n                onChange={(e) => {\n                  setPasswordError(\"\");\n                  setPassword(e.target.value);\n                }}\n              />\n              {passwordError && <p style={{ color: \"red\" }}>{passwordError}</p>}\n            </FormGroup>\n            <FormGroup>\n              <Input\n                type=\"password\"\n                placeholder=\"Confirm Password\"\n                value={password_confirmation}\n                className=\"col-12\"\n                disabled={loader}\n                onChange={(e) => {\n                  setConfirmPasswordError(\"\");\n                  setConfirmPassword(e.target.value);\n                }}\n              />\n              {confirmpasswordError && (\n                <p style={{ color: \"red\" }}>{confirmpasswordError}</p>\n              )}\n            </FormGroup>\n          </CardBody>\n          <CardFooter>\n            <Button type=\"submit\" color=\"primary\" disabled={loader}>\n              {loader ? <Spinner /> : \"Add\"}\n            </Button>\n            {!loader && (\n              <Button\n                type=\"button\"\n                color=\"danger\"\n                onClick={(e) => history.go(-1)}\n              >\n                Back\n              </Button>\n            )}\n          </CardFooter>\n        </Form>\n      </Card>\n    </>\n  );\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addUser: (data) => dispatch(addingUser(data)),\n  };\n};\n\nexport default connect(null, mapDispatchToProps)(AddUser);\n"]},"metadata":{},"sourceType":"module"}